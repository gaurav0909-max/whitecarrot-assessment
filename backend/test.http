### API Testing with VS Code REST Client Extension
### Install: https://marketplace.visualstudio.com/items?itemName=humao.rest-client

@baseUrl = http://localhost:3000/api
@token = YOUR_TOKEN_HERE

### Health Check
GET {{baseUrl}}/health

### ============================================
### AUTHENTICATION
### ============================================

### Register New User
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "demo@example.com",
  "password": "demo123",
  "companyName": "Demo Company",
  "companySlug": "democompany"
}

### Login (Copy token from response and update @token above)
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "demo@example.com",
  "password": "demo123"
}

### ============================================
### COMPANIES
### ============================================

### Get Company (Public - after seeding)
GET {{baseUrl}}/companies/techcorp

### Update Company (Protected)
PUT {{baseUrl}}/companies/democompany
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Demo Company Updated",
  "description": "We build amazing software products",
  "logo_url": "https://via.placeholder.com/150",
  "banner_url": "https://via.placeholder.com/1200x400",
  "theme": {
    "primary_color": "#3B82F6",
    "secondary_color": "#1F2937"
  }
}

### ============================================
### JOBS
### ============================================

### List All Jobs (Public - after seeding)
GET {{baseUrl}}/companies/techcorp/jobs

### List Jobs - Filter by Location
GET {{baseUrl}}/companies/techcorp/jobs?location=Remote

### List Jobs - Filter by Job Type
GET {{baseUrl}}/companies/techcorp/jobs?job_type=Full time

### List Jobs - Multiple Filters
GET {{baseUrl}}/companies/techcorp/jobs?location=Remote&job_type=Full time

### Create Job (Protected)
POST {{baseUrl}}/companies/democompany/jobs
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "title": "React Developer",
  "description": "We are looking for an experienced React developer to join our team.",
  "work_policy": "Hybrid",
  "location": "San Francisco, CA",
  "department": "Engineering",
  "employment_type": "Full time",
  "experience_level": "Mid-level",
  "job_type": "Permanent",
  "salary_range": "$120,000 - $150,000"
}

### Update Job (Protected - replace :id with actual job ID)
PUT {{baseUrl}}/companies/democompany/jobs/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "title": "Senior React Developer",
  "description": "Updated job description",
  "location": "Remote",
  "job_type": "Full time",
  "work_policy": "Remote"
}

### Delete Job (Protected - replace :id with actual job ID)
DELETE {{baseUrl}}/companies/democompany/jobs/1
Authorization: Bearer {{token}}

### ============================================
### WORKFLOW: Complete Test Flow
### ============================================

### 1. Register a new account
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "workflow@test.com",
  "password": "test123",
  "companyName": "Workflow Test Co",
  "companySlug": "workflow-test"
}

### 2. Copy token from above response, update @token variable

### 3. Create a job
POST {{baseUrl}}/companies/workflow-test/jobs
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "title": "Software Engineer",
  "description": "Join our engineering team",
  "work_policy": "Remote",
  "location": "Remote",
  "department": "Engineering",
  "employment_type": "Full time",
  "experience_level": "Mid-level",
  "job_type": "Permanent",
  "salary_range": "$100,000 - $140,000"
}

### 4. List jobs for your company
GET {{baseUrl}}/companies/workflow-test/jobs

### 5. Get company details
GET {{baseUrl}}/companies/workflow-test
